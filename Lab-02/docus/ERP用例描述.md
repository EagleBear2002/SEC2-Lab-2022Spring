# ERP用例描述

## 分工

| 学号      | 姓名   | 工作内容                                                   |
| --------- | ------ | ---------------------------------------------------------- |
| 201250172 | 熊丘桓 | 制作用例图、部署前后端代码                                 |
| 201250127 | 蔡之恒 | 商品管理用例描述、商品分类管理用例描述                     |
| 201250185 | 王福森 | 商品出入库用例描述、库存报损报溢用例描述、库存报警用例描述 |
| 201250181 | 孙立帆 | 库存分析用例描述                                           |

## 用例图

![系统用例图v1.4](ERP%E7%94%A8%E4%BE%8B%E6%8F%8F%E8%BF%B0.assets/201250172-ERP%E7%B3%BB%E7%BB%9F%E7%94%A8%E4%BE%8B%E5%9B%BEv1.4.png)

## 用例描述

### UC1 商品分类管理

| 项目     | UC1 商品分类管理                                             |
| -------- | ------------------------------------------------------------ |
| 参与者   | 库存管理人员，目标是精确地完成商品分类管理                   |
| 触发条件 | 库存管理人员使用“商品分类管理”功能                           |
| 前置条件 | 库存管理人员必须使用被授权的账号正确登录                     |
| 后置条件 | 系统更新库存管理人员对于商品分类的更改                       |
| 正常流程 | 1. 系统显示当前所有商品分类，库存管理人员在现有分类中选择一项作为“当前商品分类” <br> 2. 库存管理人员在“增加分类”、“删除分类”、“修改分类”三种操作中选择一项 <br> 3. 系统创建修改暂存区，与当前商品管理信息相同 <br> 4. 根据上一步中库存管理人员的选项进入 4.1、4.2 或 4.3 其中的一项。<br> &nbsp; 4.1 库存管理人员选择“增加分类” <br> &nbsp;&nbsp; 4.1.1 库存管理人员输入商品分类名称等信息 <br> &nbsp;&nbsp; 4.1.2. 在暂存区中，系统在当前商品分类下创建一项商品分类，并为该分类自动生成一个编号 <br>&nbsp; 4.2 若库存管理人员选择“删除分类” <br>&nbsp;&nbsp; 4.2.1 系统在暂存区中删除当前商品分类 <br>&nbsp; 4.3 若库存管理人员管理人员选择“修改分类” <br>&nbsp;&nbsp; 4.3.1库存管理人员需要输入需要修改的信息 <br>&nbsp;&nbsp; 4.3.2 系统根据库存管理人员输入的信息在暂存区中修改当前商品分类的信息 <br> 5 库存管理人员保存修改，系统用暂存区中的内容更新真实商品分类 |
| 扩展流程 | 2a. 若当前商品分类为空，则默认当前分类为“根分类”，用户只能选择“增加分类”（若不为空，则无法选择当前分类为“根分类”） <br>&nbsp; 1. 按照正常流程进入正常流程 4.1 <br> 4.1a. 库存管理人员尝试在分类（子分类）下有商品的当前分类下插入新分类 <br>&nbsp; 1.系统拒绝修改，回到正常流程 1 <br> 4.1.1a. 库存管理人员输入不合法的商品分类信息 <br> &nbsp; 1. 系统拒绝新建并提示用户重新输入，回到正常流程 4.1.1 <br> 4.3.1a. 库存管理人员输入不合法的商品分类信息 <br> &nbsp; 1. 系统拒绝修改并提示用户重新输入，回到正常流程 4.3.1 <br> 4(.x.x)-5b. 库存管理人员取消本次更改 <br> &nbsp; 1. 系统删除新建的暂存区，不对当前的商品分类信息进行任何操作 |
| 特殊需求 | 无                                                           |

###   UC2 商品管理

| 用例名称 | UC2 商品管理                                                 |
| -------- | ------------------------------------------------------------ |
| 参与者   | 库存管理人员，目标是精确、快速地完成商品管理                 |
| 触发条件 | 库存管理人员使用“商品管理”功能                               |
| 前置条件 | 库存管理人员必须使用被授权的账号正确登录                     |
| 后置条件 | 系统更新库存管理人员对于商品的更改                           |
| 正常流程 | 1. 系统（有折叠地）显示当前所有商品和商品种类树状图 <br> 2. 库存管理人员选择“增加商品”、“删除商品”、“修改商品”、“查询商品”四种操作中的一项 <br> 3. 根据 2 中库存管理人员的选择进入3.1、3.2、3.3 或 3.4 中的一项 <br>&nbsp; 3.1 库存管理人员选择“增加商品” <br>&nbsp;&nbsp; 3.1.1 库存管理人员选中一个商品类别 <br> &nbsp;&nbsp; 3.1.2 库存管理人员输入商品的属性信息 <br>&nbsp;&nbsp; 3.1.3 系统创建商品，并根据分类以及添加次序自动为该商品生成商品编号 <br>&nbsp; 3.2 库存管理人员选择“删除商品” <br>&nbsp;&nbsp; 3.2.1 库存管理人员选择一项商品 <br>&nbsp;&nbsp; 3.2.2 系统删除该商品 <br>&nbsp; 3.3 库存管理人员选择“修改商品” <br>&nbsp;&nbsp; 3.3.1 库存管理人员选择一项商品 <br>&nbsp;&nbsp; 3.3.2 库存管理人员输入修改后的商品属性信息 <br>&nbsp;&nbsp; 3.3.3 系统对该商品进行修改 <br>&nbsp; 3.4 库存管理人员选择“查询商品” <br>&nbsp;&nbsp; 3.4.1 库存管理人员输入查询关键词（可以是商品编号、名称等，支持模糊查找）<br>&nbsp;&nbsp; 3.4.2 系统按照推荐算法向库存管理人员列出查询到的所有商品及其部分信息（可能为空） |
| 扩展流程 | 2.1a 系统中没有合法的商品分类时，不能选择“增加商品” <br>&nbsp; 1.按照正常流程进入正常流程 3.2、3.3 或 3.4 中的一项 <br> 2.1b 系统中没有商品时，不能选择“删除商品”或“修改商品” <br> &nbsp; 1. 按照正常流程进入正常流程 3.1 或 3.4 中的一项 <br> 3.1.1a 库存管理人员选中了一个不合法的商品类别（比如非叶节点）<br>&nbsp; 1. 系统拒绝选择并提示，返回正常流程 3.1.1 <br> 3.1.2a.库存管理人员输入了不合法的商品属性信息 <br>&nbsp; 1. 系统拒绝选择并提示，返回正常流程 3.1.2 <br> 3.3.2a 系统管理人员输入了不合法的商品属性信息 <br>&nbsp; 1. 系统拒绝输入并提示，返回正常流程 3.3.2 <br> 3(.x.x)b 库存管理人员取消操作 <br>&nbsp; 1. 系统放弃所有操作，结束用例 |
| 特殊需求 | 无                                                           |

### UC3 库存分析

| 项目     | UC3 库存分析                                                 |
| -------- | :----------------------------------------------------------- |
| 参与者   | 库存管理人员，目标是了解并分析商品的库存信息，以辅助库存管理。 |
| 触发条件 | 库存管理人员需要了解库存情况                                 |
| 前置条件 | 库存管理人员必须已被识别和授权                               |
| 后置条件 | 如果库存管理人员要求，应该导出库存快照 Excel 文件            |
| 正常流程 | 1.0 库存查看<br/>    1.  库存管理人员输入起始日期和终止日期 <br/>    2. 系统统计并显示此时间段内的出/入库数量/金额/商品信息/分类信息/库存数量合计 |
| 扩展流程 | 1.1 库存盘点<br/>    1. 库存管理人员向系统请求库存盘点<br/>    2. 系统统计并显示当天的库存快照信息，包括当天的各种商品的名称，型号，库存数量，库存均价（商品的平均进价），批次批号，生产日期，并且显示行号, 并询问是否需要导出 Excel 文件。  <br/>    3. 库存管理人员根据提示选项进行选择是否导出 Excel 文件<br/>    4. 系统根据库存管理人员的选择导出 Excel 文件或结束本次库存盘点<br/>1.0-1a 库存管理人员输入不合法的起始日期和终止日期 (起始日期大于终止日期/起始日期大于当前日期)<br/>    1.系统拒绝查询并显示错误提示 <br/>1.0-1b 库存管理人员输入的起始日期到终止日期之间的数据不存在<br/>    1. 系统显示信息不存在提示<br/>    2. 库存管理人员根据实际情况判断是否需要上报维修系统 |
| 特殊需求 | 无                                                           |

### UC4 商品出入库

| **用例名称** | UC4 商品出入库                                               |
| ------------ | ------------------------------------------------------------ |
| **参与者**   | 库存管理人员，方便地提交记录出入库单和库存赠送单，更加高效地接收出入库单据的审核结果，提高库存管理效率<br/>总经理，目标是更加高效和方便地审批库存管理人员提交的出库入库单，提高库存管理效率 |
| **触发条件** | 从供应商那里进一批货<br/>销售后客户退一批货<br/>退掉一批从供应商那里进的货<br/>售出一批货<br/>需要赠送一些商品 |
| **前置条件** | 库存管理人员必须已经被识别和授权<br/>总经理必须已经被识别和授权<br/>还有没有处理的出入库单、库存赠送单 |
| **后置条件** | 存储出入库单<br/>存储库存赠送单<br/>更新库存数据             |
| **正常流程** | **1.0 出入库单、库存赠送单填写**<br/>1. 系统提示有出入库单、库存赠送单需要库存管理人员提交<br/>2. 库存管理人员点击需要处理的出入库单或者库存赠送单列表<br/>3. 系统显示状态为未审核和审核失败的出入库单列表或者库存赠送单列表<br/>4. 库存管理人员选择一个需要处理的出入库单或者库存赠送单<br/>5. 系统显示本次出入库单、库存赠送单的填写界面<br/>6. 库存管理人员输入出入库信息、库存赠送信息<br/>7. 库存管理人员提交审核<br/>8. 系统显示提交审核成功，显示该单据的状态为审核中，并且向总经理出入库审核事务、库存赠送审核事务中添加本次库存管理人员提交的出入库单据、库存赠送单据<br/>库存管理人员重复4~8步，直到处置完所有出入库单处置事件、库存赠送单处置事件 |
| **扩展流程** | 1.0.8a.系统显示内容输入有误：<br/>        1.保留之前库存管理人员的输入，显示错误信息（包括时间信息为空、商品或者赠品的具体信息为空、操作员不在库存管理人员列表），等待重新输入<br/><br/>**1.1 出入库单、库存赠送单审批**<br/>1. 系统提示有提交的出入库单、库存赠送单需要总经理处置<br/>2. 总经理点击需要处置的出入库单、库存赠送单列表<br/>3. 系统显示需要被处置的出入库单、库存赠送单列表<br/>4. 总经理选择一个需要处理的出入库单或者库存赠送单<br/>5. 系统显示该出入库单据的出入库信息或者库存赠送单的库存赠送信息<br/>6. 总经理通过审核<br/>    6.a总经理拒绝通过审核：<br/>         1. 系统显示拒绝成功，并且在库存管理人员需要处理的出入库单列表或者库存赠送单列表对该出入库单的状态或者库存赠送单的状态从审核中改为审核失败<br/>7. 系统显示提交审核结果成功，在库存管理人员需要处理的出入库单列表或者库存赠送单列表对该出入库单或者库存赠送单的状态从审核中改为审核通过<br/>总经理重复4~7步，直到处置完所有出入库单处置事件以及所有库存赠送单处置事件<br/><br/>**1.3 出入库单、库存赠送单完成**<br/>1. 系统提示有状态为审核通过的出入库单、库存赠送单需要库存管理人员处置<br/>2. 库存管理人员点击需要处理的出入库单、库存赠送单列表<br/>3. 系统显示状态为审核通过的出入库单、库存赠送单列表<br/>4. 库存管理人员选择一个需要处理的出入库单、库存赠送单<br/>5. 系统显示出入库单的出入库信息、库存赠送单的库存赠送信息<br/>6. 库存管理人员在完成现实中商品的进出货后，将该出入库单的状态改为已完成；库存管理人员在完成现实中的商品赠送后，将该库存赠送单的状态改为已完成<br/>7. 系统显示修改成功，更新库存数据并且存储该出入库单、库存赠送单<br/>库存管理人员重复4~7步，直到处置完所有出入库单处置事件、处置完所有库存赠送单处置事件 |
| **特殊需求** | 1. 出入库单的出入库信息包括：时间、操作员、出/入库类型（出库类型：进货/买家退货，入库类型：减库存/销售），这批商品的具体信息<br/>2. 库存赠送信息包括：时间、操作员、赠品的具体信息、赠送的用户信息、赠送原因 |

### UC5 库存报损报溢

| **用例名称** | UC5 库存报损报溢                                             |
| ------------ | ------------------------------------------------------------ |
| **参与者**   | 库存管理人员，目的是更加方便地填写和存储库存报损/库存报溢单，提高库存管理效率 |
| **触发条件** | 实际库房中的商品数量和系统库存中的商品数量不一致             |
| **前置条件** | 库存管理人员必须已经被识别和授权                             |
| **后置条件** | 将系统库存中的商品数量更改为实际库房中的商品数量             |
| **正常流程** | 1. 库存管理人员新建库存报损/库存报溢单<br>2. 系统显示库存报损/库存报溢单填写界面<br/>3. 库存管理人员输入库存报损/报溢信息并提交<br/>4. 系统显示提交成功，存储库存报损/报溢单，更新系统库存中的商品数量 |
| **扩展流程** | 3.a输入有误<br/>     1. 系统保留之前库存管理人员的输入，显示错误信息（包括时间信息为空、商品的具体信息为空、操作员不在库存管理人员列表），等待重新输入 |
| **特殊需求** | 1. 库存报损/报溢信息包括：时间、操作员涉及商品信息、实际库存商品数量、系统库存商品数量 |

### UC6 库存报警

| **用例名称** | UC6 库存报警                                                 |
| ------------ | ------------------------------------------------------------ |
| **参与者**   | 库存管理人员，目标是方便监控库存数量，及时得知库存数量紧缺   |
| **触发条件** | 库存管理人员需要利用系统的库存报警功能                       |
| **前置条件** | 库存管理人员必须已经被识别和授权                             |
| **后置条件** | 无                                                           |
| **正常流程** | **1.0 设置库存警戒数量**<br>1. 库存管理人员设置库存警戒数量<br/>2. 系统显示之前设置的或者默认的警戒数量，以及该警戒功能的状态（警戒功能的状态包括：运行中、未运行）<br/>3. 库存管理人员输入库存警戒数量，并且调整该警戒功能状态为运行中<br/>4. 系统显示修改成功 |
| **扩展流程** | 3.a 库存管理人员不输入警戒数量<br/>      1. 库存管理人员直接调整该警戒功能的状态为运行中<br/>4.a 系统显示输入有误<br/>      1. 系统保留库存管理人员之前的输入，显示错误信息（输入的库存警戒数量不为非负整数），等待重新输入<br/><br/>**1.1 库存警戒提醒**<br/>1. 系统向库存管理人员发送警戒信息：系统库存数量低于库存警戒数量<br/>2. 库存管理人员查看警戒信息<br/> |
| **特殊需求** | 1. 库存管理人员输入的警戒数量应为非负正数<br/>2. 默认警戒数量为2^31-1，默认警戒功能状态为未运行 |
